name: .gitignore checker

on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]

jobs:
  syntax-check:
    runs-on: ubuntu-latest
    
    steps:
    - name: Kolla koden
      uses: actions/checkout@v2
      
    - name: Kontrollera om gitignore finns
      run: |
        if [ -f .gitignore ]; then
          echo ".gitignore finns! Bra jobbat!"
        else
          echo "Ingen .gitignore hittades. Skapa en f√∂r att undvika att checka in on√∂diga filer."
        fi
        
    - name: R√§kna antal filer i projektet
      run: |
        echo "Projektet inneh√•ller f√∂ljande antal filer:"
        find . -type f | grep -v ".git/" | wc -l
        
    - name: S√∂k efter potentiella problem
      run: |
        # S√∂k efter h√•rdkodade l√∂senord
        echo "S√∂ker efter misst√§nkta h√•rdkodade l√∂senord..."
        grep -r "password.*=" --include="*.cs" --include="*.bicep" . || echo "Inga uppenbara l√∂senord hittades! üëç"
